---
import CharacterCard from "./CharacterCard.astro"

import { getCharacters } from "rickmortyapi"

import { tc } from "@/utils/tc"

const res = await tc(getCharacters({ species: "Human", status: "Alive" }))
const characters = res ? res.data.results : []
---

<ul class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
  {
    characters && characters.length > 0 ? (
      characters.map((character) => <CharacterCard {...character} />)
    ) : (
      <div class="skeleton bg-base-200" />
    )
  }
</ul>
