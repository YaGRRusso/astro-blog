---
import type { HTMLAttributes } from "astro/types";
import type { AnchorHTMLAttributes } from "react";

// interface Props extends HTMLAttributes<'a'> { href: string; }
interface Props extends HTMLAttributes<"a"> {
  href: string;
}

const basePath = import.meta.env.BASE_URL || "/";
const { href, ...props } = Astro.props as Props;

const barHref = href.startsWith("/") ? href : "/" + href;
const fullHref = barHref.startsWith(basePath) ? barHref : basePath + barHref;
---

<a href={fullHref} {...props}>
  <slot />
</a>
